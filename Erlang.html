<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Ceylan-HOWTOs: About Erlang</title>
<link rel="stylesheet" href="pygments-default.css" type="text/css" />
<link rel="stylesheet" href="howtos.css" type="text/css" />
<link href="howtos-icon.png" rel="icon">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="document" id="erlang">
<span id="top"></span>
<h1 class="title">Erlang</h1>

<p><span class="raw-html"><a name="howtos_top"></a></span></p>
<p><span class="raw-html"><div class="banner"><p><em>Ceylan HOWTOs</em> <a href="http://howtos.esperide.org">browse latest</a> <a href="Ceylan-HOWTOs-english.pdf">get PDF</a> <a href="#howtos_top">go to top</a> <a href="#howtos_toc">go to toc</a> <a href="#howtos_bottom">go to bottom</a> <a href="Ceylan-HOWTOs-overview-english.html">go to HOWTOs</a> <a href="mailto:about(dash)ceylan-howtos(at)esperide(dot)com?subject=[Ceylan-HOWTOs]%20Remark%20about%20Erlang">email us</a></p></div></span></p>
<p><span class="raw-html"><center><img src="howtos-title.png" id="responsive-image-ultrasmall"></img></span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Organisation:</th><td class="field-body">Copyright (C) 2021-2021 Olivier Boudeville</td>
</tr>
<tr class="field"><th class="field-name">Contact:</th><td class="field-body">about (dash) howtos (at) esperide (dot) com</td>
</tr>
<tr class="field"><th class="field-name">Creation date:</th><td class="field-body">Saturday, November 20, 2021</td>
</tr>
<tr class="field"><th class="field-name">Lastly updated:</th><td class="field-body">Sunday, November 21, 2021</td>
</tr>
</tbody>
</table>
<p><span class="raw-html"><a name="howtos_toc"></a></span></p>
<div class="contents topic" id="id1">
<span id="table-of-contents"></span><p class="topic-title"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#language-implementation" id="id8">Language Implementation</a><ul>
<li><a class="reference internal" href="#message-passing-copying-vs-sharing" id="id9">Message-Passing: Copying vs Sharing</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="language-implementation">
<h1><a class="toc-backref" href="#id8">Language Implementation</a></h1>
<div class="section" id="message-passing-copying-vs-sharing">
<h2><a class="toc-backref" href="#id9">Message-Passing: Copying vs Sharing</a></h2>
<p>Knowing that in functional languages such as Erlang terms are immutable, why could not they be shared between local processes when sent through messages, instead of being copied in the heap of each of them, as it is the case in the Erlang VM?</p>
<p>Because, beyond of the constness of these terms, their life-cycle has also to be managed. If they are copied, each process can very easily perform its (concurrent, autonomous) garbage collections. If terms were shared, then reference counting would be needed, which is bound to require locks in a concurrent context.</p>
<p>A trade-off between memory (due to data duplication) and processing (due to lock contention) has to be found and at least for most terms (expect larger binaries), the sweet spot shall be sacrificing a bit of memory in favour of CPU load.</p>
<blockquote>
The language that’s part of massive systems that underpin pretty much the entire internet?*</blockquote>
<p>And now a bit of Shameless Advertisement for Erlang</p>
<p>What makes Elixir StackOverflow’s #4 most-loved language? What makes Erlang and Elixir StackOverflow’s #3 and #4 best-paid languages? How did WhatsApp scale to billions of users with just dozens of Erlang engineers? What’s so special about Erlang that it powers CouchDB and RabbitMQ? Why are multi-billion-dollar corporations like Bet365 and Klarna built on Erlang? Why do PepsiCo, Cars.com, Change.org, Boston’s MBTA, and Discord all rely on Elixir? Why was Elixir chosen to power a bank? Why does Cisco ship 2 million Erlang devices each year? Why is Erlang used to control 90% of Internet traffic?</p>
<p>Source : <a class="reference external" href="https://erlangforums.com/t/erlang-101-processes-parallelization/594">https://erlangforums.com/t/erlang-101-processes-parallelization/594</a></p>
<p>Resources:</p>
<ul class="simple">
<li><a class="reference external" href="https://blog.stenmans.org/theBeamBook/">The Erlang Runtime System</a>, a.k.a. &quot;the BEAM book&quot;, by Erik Stenman</li>
</ul>
<p># Installation</p>
<p>Nous recommandons fortement l'installation depuis les sources de la dernière version stable d'Erlang telle que réalisée par notre script <tt class="docutils literal"><span class="pre">conf/install-erlang.sh</span></tt>, présent sous Ceylan-Myriad (et d'emblée intégré dans la distribution Sim-Diasca, sous le répertoire <tt class="docutils literal">myriad</tt> présent à sa racine, cf. [la page d'installation de Sim-Diasca](<a class="reference external" href="https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Usage-de-Sim-Diasca#installation">https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Usage-de-Sim-Diasca#installation</a>)), qu'il est donc préférable de cloner auparavant.</p>
<p>Pour une activité de développement, il est préférable d'ajouter les options suivantes pour l'exécution de ce script d'installation :</p>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--doc-install</span></tt> afin de disposer de la documentation de référence en local (sous <tt class="docutils literal"><span class="pre">~/Software/Erlang/Erlang-current-documentation/</span></tt> ; à placer en signet dans son navigateur préféré)</li>
<li><tt class="docutils literal"><span class="pre">--generate-plt</span></tt> afin de générer un fichier PLT permettant la vérification statique de types (cela entraîne après la phase de compilation une phase relativement longue et exigeante en ressources, mais ces opérations ne sont à faire que lors de l'installation d'Erlang, une fois pour toutes pour une version donnée)</li>
</ul>
</blockquote>
<p>En pratique, il faut :</p>
<blockquote>
<ul class="simple">
<li>soit permettre le téléchargement des sources et de la documentation via le proxy EDF (par exemple via [l'alias set-proxy](<a class="reference external" href="https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Calibre-&amp;-compagnie#proxy">https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Calibre-&amp;-compagnie#proxy</a>)) puis exécuter : <cite>install-erlang.sh --doc-install --generate-plt</cite></li>
<li>soit (solution recommandée, car la plus fiable) les télécharger directement depuis son navigateur, depuis [cette page](<a class="reference external" href="https://www.erlang.org/downloads">https://www.erlang.org/downloads</a>) (télécharger <tt class="docutils literal">OTP x.y Source File</tt> et <tt class="docutils literal">OTP x.y HTML Documentation File</tt>) et placer les deux archives correspondantes dans le même répertoire que <tt class="docutils literal"><span class="pre">install-erlang.sh</span></tt>, puis exécuter <cite>./install-erlang.sh --doc-install --generate-plt --no-download</cite></li>
</ul>
</blockquote>
<p>Exécuter <tt class="docutils literal"><span class="pre">./install-erlang.sh</span> <span class="pre">--help</span></tt> pour plus d'informations sur les modalités d'installation d'Erlang.</p>
<p># Vérification de bon fonctionnement</p>
<p>Après avoir vérifié que <cite>~/Software/Erlang/Erlang-current-install/bin/</cite> se trouve bien dans votre PATH (cela devrait être le cas si vous avez suivi [cette procédure](<a class="reference external" href="https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Configuration-du-shell">https://gitlab.pleiade.edf.fr/Capitalisation/espace-principal/-/wikis/Configuration-du-shell</a>)), il suffit d'exécuter (depuis un répertoire quelconque) <tt class="docutils literal">erl</tt> (l'interpréteur Erlang), résultant en une invite du type :</p>
<p><a href="#id2"><span class="problematic" id="id3">``</span></a>`
$ erl
Erlang/OTP 23 [erts-11.0] [source] [64-bit] [smp:8:8] [ds:8:8:10] [async-threads:1] [hipe]</p>
<p>Eshell V11.0  (abort with ^G)
1&gt;
<a href="#id4"><span class="problematic" id="id5">``</span></a><a href="#id6"><span class="problematic" id="id7">`</span></a></p>
<p>Entrer alors deux fois <tt class="docutils literal"><span class="pre">CTRL-C</span></tt> pour revenir au shell (UNIX).</p>
<p>Bravo, vous disposez d'Erlang maintenant !</p>
<p># Ressources mobilisables</p>
<p>Consulter [cette page](<a class="reference external" href="https://web.pleiade.edf.fr/simdiasca/index.php/GunsForHire">https://web.pleiade.edf.fr/simdiasca/index.php/GunsForHire</a>).</p>
<p># Sources d'information</p>
<ul class="simple">
<li>la référence est le [site officiel d'Erlang](<a class="reference external" href="http://erlang.org">http://erlang.org</a>), y compris pour :<ul>
<li>la [page d'accueil de la documentation](<a class="reference external" href="https://erlang.org/docs/">https://erlang.org/docs/</a>)</li>
<li>la [liste des modules standard](<a class="reference external" href="https://erlang.org/doc/search/">https://erlang.org/doc/search/</a>), qui est la page la plus utile au quotidien ; il est donc préférable de placer dans votre navigateur un signet sur sa version locale : <tt class="docutils literal"><span class="pre">~/Software/Erlang/Erlang-current-documentation/doc/man_index.html</span></tt>, c'est-à-dire par exemple <tt class="docutils literal"><span class="pre">file:///home/E22850/Software/Erlang/Erlang-current-documentation/doc/man_index.html</span></tt></li>
</ul>
</li>
<li>pour se référer à la documentation : [Erldocs](<a class="reference external" href="https://erldocs.com/">https://erldocs.com/</a>) fournit aussi une vue complète</li>
<li>pour apprendre : nous conseillons la lecture du tutoriel [Learn You Some Erlang for Great Good! ](<a class="reference external" href="https://learnyousomeerlang.com/content">https://learnyousomeerlang.com/content</a>) ; à noter qu'EDF dispose aussi de quelques livres sur Erlang (bibliothèque R&amp;D)</li>
</ul>
<p>Voir aussi [cette page d'aide](<a class="reference external" href="https://web.pleiade.edf.fr/simdiasca/index.php/UpToSpeedWithErlang">https://web.pleiade.edf.fr/simdiasca/index.php/UpToSpeedWithErlang</a>).</p>
</div>
</div>
</div>
</body>
</html>
