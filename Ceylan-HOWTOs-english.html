<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Ceylan-HOWTOs: About Build Tools</title>
<meta content="HOWTOS, how-to, cookbook" name="keywords" />
<link rel="stylesheet" href="pygments-default.css" type="text/css" />
<link rel="stylesheet" href="howtos.css" type="text/css" />
<link href="howtos-icon.png" rel="icon">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="document" id="ceylan-s-howto">
<h1 class="title"><em>Ceylan's</em> HOWTO</h1>

<span class="target" id="top"></span><p></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Organisation:</th><td class="field-body"><p class="first">Copyright (C) 2021-2021 Olivier Boudeville</p>
</td>
</tr>
<tr class="field"><th class="field-name">Contact:</th><td class="field-body"><p class="first">about (dash) howtos (at) esperide (dot) com</p>
</td>
</tr>
<tr class="field"><th class="field-name">Creation date:</th><td class="field-body"><p class="first">Wednesday, November 17, 2021</p>
</td>
</tr>
<tr class="field"><th class="field-name">Lastly updated:</th><td class="field-body"><p class="first">Sunday, November 21, 2021</p>
</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body"><p class="first">0.0.1</p>
</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body"><p class="first">In progress</p>
</td>
</tr>
<tr class="field"><th class="field-name">Dedication:</th><td class="field-body"><p class="first">Users of these HOWTOs</p>
</td>
</tr>
<tr class="field"><th class="field-name">Abstract:</th><td class="field-body"><p class="first">The role of these <tt class="docutils literal"><span class="pre">HOW-TOs</span></tt> is, akin to a cookbook, to share a collection of (technical) recipes (&quot;how-to do this task?) regarding various topics.</p>
<p class="last">These elements are part of the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan">Ceylan</a> umbrella project.</p>
</td>
</tr>
</tbody>
</table>
<p>The latest version of this documentation is to be found at the <a class="reference external" href="http://howtos.esperide.org">official Ceylan-HOWTOs website</a> (<tt class="docutils literal"><span class="pre">http://howtos.esperide.org</span></tt>).</p>
<p></p>
<div class="contents topic" id="id1">
<span id="table-of-contents"></span><p class="topic-title"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#build-tools" id="id7">Build Tools</a><ul>
<li><a class="reference internal" href="#purpose-of-build-tools" id="id8">Purpose of Build Tools</a></li>
<li><a class="reference internal" href="#choice" id="id9">Choice</a></li>
<li><a class="reference internal" href="#id5" id="id10">GNU make</a></li>
<li><a class="reference internal" href="#see-also" id="id11">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#please-react" id="id12">Please React!</a></li>
<li><a class="reference internal" href="#ending-word" id="id13">Ending Word</a></li>
</ul>
</div>
<p></p>
<div class="section" id="build-tools">
<span id="id2"></span><h1><a class="toc-backref" href="#id14">Build Tools</a></h1>
<p><span class="raw-html"><a name="howtos_top"></a></span></p>
<p><span class="raw-html"><div class="banner"><p><em>Ceylan HOWTOs</em> <a href="http://howtos.esperide.org">browse latest</a> <a href="Ceylan-HOWTOs-english.pdf">get PDF</a> <a href="#howtos_top">go to top</a> <a href="#howtos_toc">go to toc</a> <a href="#howtos_bottom">go to bottom</a> <a href="Ceylan-HOWTOs-overview-english.html">go to HOWTOs</a> <a href="mailto:about(dash)ceylan-howtos(at)esperide(dot)com?subject=[Ceylan-HOWTOs]%20Remark%20about%20Build">email us</a></p></div></span></p>
<p><span class="raw-html"><center><img src="howtos-title.png" id="responsive-image-ultrasmall"></img></span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Organisation:</th><td class="field-body">Copyright (C) 2021-2021 Olivier Boudeville</td>
</tr>
<tr class="field"><th class="field-name">Contact:</th><td class="field-body">about (dash) howtos (at) esperide (dot) com</td>
</tr>
<tr class="field"><th class="field-name">Creation date:</th><td class="field-body">Saturday, November 20, 2021</td>
</tr>
<tr class="field"><th class="field-name">Lastly updated:</th><td class="field-body">Sunday, November 21, 2021</td>
</tr>
</tbody>
</table>
<p><span class="raw-html"><a name="howtos_toc"></a></span></p>
<div class="contents topic" id="id4">
<span id="id3"></span><p class="topic-title"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#build-tools" id="id14">Build Tools</a><ul>
<li><a class="reference internal" href="#purpose-of-build-tools" id="id15">Purpose of Build Tools</a></li>
<li><a class="reference internal" href="#choice" id="id16">Choice</a></li>
<li><a class="reference internal" href="#id5" id="id17">GNU make</a></li>
<li><a class="reference internal" href="#see-also" id="id18">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#please-react" id="id19">Please React!</a></li>
<li><a class="reference internal" href="#ending-word" id="id20">Ending Word</a></li>
</ul>
</div>
<div class="section" id="purpose-of-build-tools">
<h2><a class="toc-backref" href="#id15">Purpose of Build Tools</a></h2>
<p>A build tool allows to automate all kinds of tasks, by <strong>applying rules and tracking dependencies</strong>: not only compiling, linking, etc. applications, but also checking them, generating their documentation, running and debugging them, etc.</p>
</div>
<div class="section" id="choice">
<h2><a class="toc-backref" href="#id16">Choice</a></h2>
<p>Often build tools are tied to some programming languages (ex: Maven for Java, <a class="reference external" href="https://github.com/erlang/rebar3">Rebar3</a> for Erlang, etc.).</p>
<p>Some tools are more generic by nature, like late GNU autotools, or <a class="reference external" href="https://cmake.org/">Cmake</a>, <a class="reference external" href="https://www.gnu.org/software/make/">GNU make</a>, etc.</p>
<p>For most uses, our personal preference goes to the latter. Notably all our Erlang-based developments, starting from <a class="reference external" href="http://myriad.esperide.org">Ceylan-Myriad</a>, are based on GNU make.</p>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id17">GNU make</a></h2>
<p>We recommend the reading of <a class="reference external" href="https://www.gnu.org/software/make/manual/make.html">this essential source</a> for reference purpose, notably the section about <a class="reference external" href="https://www.gnu.org/software/make/manual/make.html#Flavors">The Two Flavors of Variables</a>.</p>
<p>Taking our Erlang developments as an example, their base, first layer, <a class="reference external" href="http://myriad.esperide.org">Ceylan-Myriad</a>, relies on build facilities that are designed to be also reused and further adapted / specialised / parametrised in turn  by all layers above in the stack (ex: <a class="reference external" href="http://wooper.esperide.org">Ceylan-WOOPER</a>).</p>
<p>For that, Myriad defines three top-level makefiles:</p>
<ul class="simple">
<li>base build-related <em>variables</em> (settings) in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/GNUmakevars.inc">GNUmakevars.inc</a>, providing defaults that can be overridden by upper layers</li>
<li><em>automatic rules</em>, in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/GNUmakerules-automatic.inc">GNUmakerules-automatic.inc</a>, able to operate generically on patterns, typically based on file extensions</li>
<li><em>explicit rules</em>, in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/GNUmakerules-explicit.inc">GNUmakerules-explicit.inc</a>, for all specific named make targets (ex: <tt class="docutils literal">all</tt>, <tt class="docutils literal">clean</tt>)</li>
</ul>
<p>Each layer references its specialisation of these three elements (and the ones of all layers below) in its own <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/GNUmakesettings.inc">GNUmakesettings.inc</a> file, which is the only element that each per-directory <tt class="docutils literal">GNUmakefile</tt> file will have to include.</p>
<p>Such a system allows defining (build-time and runtime) settings and rules once for all, while remaining flexible and enabling individual makefiles to be minimalistic: beside said include, they just have to list which of their subdirectories the build should traverse (thanks to the <tt class="docutils literal">MODULES_DIRS</tt> variable, see <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/src/user-interface/GNUmakefile">example</a>).</p>
<p><span class="raw-html"><a name="howtos_bottom"></a></span></p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id18">See Also</a></h2>
<p>One may refer to the <a class="reference external" href="http://hull.esperide.org#for-development">development section</a> of Ceylan-Hull, or go back to the <a class="reference external" href="Ceylan-HOWTOs-overview-english.html">Ceylan-HOWTOs main page</a>.</p>
<p></p>
</div>
</div>
<div class="section" id="please-react">
<h1><a class="toc-backref" href="#id19">Please React!</a></h1>
<p>If you have information more detailed or more recent than those presented in this document, if you noticed errors, neglects or points insufficiently discussed, drop us a line! (for that, use the contact address at the top of this document).</p>
</div>
<div class="section" id="ending-word">
<h1><a class="toc-backref" href="#id20">Ending Word</a></h1>
<p>Hoping that these Ceylan-HOWTOs may be of help!</p>
<p></p>
</div>
</div>
</body>
</html>
