<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Ceylan-HOWTOs: About Documentation Generation</title>
<script type="text/javascript" src="mathjax/tex-mml-chtml.js?config=TeX-AMS_CHTML"></script>
<link rel="stylesheet" href="pygments-default.css" type="text/css" />
<link rel="stylesheet" href="howtos.css" type="text/css" />
<link href="howtos-icon.png" rel="icon">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="document" id="documentation-generation">
<span id="top"></span>
<h1 class="title">Documentation Generation</h1>

<p><span class="raw-html"><a name="howtos_top"></a></span></p>
<p><span class="raw-html"><div class="banner"><p><em>Ceylan HOWTOs</em> <a href="http://howtos.esperide.org">browse latest</a> <a href="Ceylan-HOWTOs-english.pdf">get PDF</a> <a href="#howtos_top">go to top</a> <a href="#howtos_toc">go to toc</a> <a href="#howtos_bottom">go to bottom</a> <a href="Ceylan-HOWTOs-overview-english.html">go to HOWTOs</a> <a href="mailto:about(dash)ceylan-howtos(at)esperide(dot)com?subject=[Ceylan-HOWTOs]%20Remark%20about%20Documentation%20Generation">email us</a></p></div></span></p>
<p><span class="raw-html"><center><img src="howtos-title.png" id="responsive-image-ultrasmall"></img></span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Organisation:</th><td class="field-body">Copyright (C) 2022-2023 Olivier Boudeville</td>
</tr>
<tr class="field"><th class="field-name">Contact:</th><td class="field-body">about (dash) howtos (at) esperide (dot) com</td>
</tr>
<tr class="field"><th class="field-name">Creation date:</th><td class="field-body">Wednesday, January 12, 2022</td>
</tr>
<tr class="field"><th class="field-name">Lastly updated:</th><td class="field-body">Friday, August 4, 2023</td>
</tr>
</tbody>
</table>
<p><span class="raw-html"><a name="howtos_toc"></a></span></p>
<div class="contents local topic" id="topic-1">
<span id="table-of-contents"></span><p class="topic-title"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#objective" id="toc-entry-1">Objective</a></li>
<li><a class="reference internal" href="#our-preferred-lightweight-approach" id="toc-entry-2">Our Preferred Lightweight Approach</a><ul>
<li><a class="reference internal" href="#principle" id="toc-entry-3">Principle</a></li>
<li><a class="reference internal" href="#specific-topics" id="toc-entry-4">Specific Topics</a><ul>
<li><a class="reference internal" href="#rendering-mathematical-elements" id="toc-entry-5">Rendering Mathematical Elements</a></li>
<li><a class="reference internal" href="#title-hierarchy" id="toc-entry-6">Title Hierarchy</a></li>
<li><a class="reference internal" href="#image-sizes" id="toc-entry-7">Image Sizes</a></li>
<li><a class="reference internal" href="#multi-file-documents" id="toc-entry-8">Multi-File Documents</a></li>
<li><a class="reference internal" href="#inner-links" id="toc-entry-9">Inner Links</a></li>
<li><a class="reference internal" href="#commenting" id="toc-entry-10">Commenting</a></li>
<li><a class="reference internal" href="#defining-blocks" id="toc-entry-11">Defining Blocks</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#our-preferred-more-heavy-duty-approach" id="toc-entry-12">Our Preferred More Heavy-Duty Approach</a><ul>
<li><a class="reference internal" href="#principle-1" id="toc-entry-13">Principle</a></li>
<li><a class="reference internal" href="#installation" id="toc-entry-14">Installation</a></li>
<li><a class="reference internal" href="#configuration" id="toc-entry-15">Configuration</a></li>
<li><a class="reference internal" href="#theme-selection" id="toc-entry-16">Theme Selection</a></li>
<li><a class="reference internal" href="#adding-content" id="toc-entry-17">Adding Content</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous" id="toc-entry-18">Miscellaneous</a><ul>
<li><a class="reference internal" href="#validating-checking-html-content" id="toc-entry-19">Validating / Checking HTML Content</a></li>
<li><a class="reference internal" href="#fixing-permissions-in-third-party-content-to-integrate-in-a-web-root" id="toc-entry-20">Fixing Permissions in Third-Party Content to Integrate in a Web Root</a></li>
<li><a class="reference internal" href="#pointing-to-a-specific-moment-in-a-linked-video" id="toc-entry-21">Pointing to a Specific Moment in a Linked Video</a></li>
<li><a class="reference internal" href="#conversion-between-markup-formats" id="toc-entry-22">Conversion between Markup Formats</a></li>
<li><a class="reference internal" href="#transformation-of-pdf-files" id="toc-entry-23">Transformation of PDF files</a></li>
<li><a class="reference internal" href="#image-transformations" id="toc-entry-24">Image Transformations</a></li>
<li><a class="reference internal" href="#uml-diagrams" id="toc-entry-25">UML Diagrams</a><ul>
<li><a class="reference internal" href="#quick-uml-cheat-sheet" id="toc-entry-26">Quick UML Cheat Sheet</a></li>
<li><a class="reference internal" href="#tooling" id="toc-entry-27">Tooling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#finding-usable-content" id="toc-entry-28">Finding Usable Content</a></li>
<li><a class="reference internal" href="#using-additional-fonts" id="toc-entry-29">Using Additional Fonts</a></li>
</ul>
</li>
</ul>
</div>
<p><span class="raw-html"></center></span></p>
<div class="section" id="objective">
<h1><a class="toc-backref" href="#toc-entry-1">Objective</a></h1>
<p>The goal is to generate nice documentations of any kind (not necessarily technical), as static content - as opposed to wikis or <a class="reference external" href="https://en.wikipedia.org/wiki/Content_management_system">content management systems</a> (CMS).</p>
<p>We want to be able to generate, <strong>from a single source</strong>, at least two <strong>documentation formats</strong>:</p>
<ul class="simple">
<li>a set of <strong>interlinked static web pages</strong> (the most popular, flexible format)</li>
<li>a single, <strong>standalone PDF file</strong> (convenient for offline reading, printing, etc.)</li>
</ul>
<p>The document source shall be expressed in a simple, non-limiting, high-level syntax; in practice a rather standard, lightweight markup language.</p>
<p>All standard documentation elements shall be available (e.g. title, tables, images, links, references, tables of content, etc.) and be customisable.</p>
<p>The resulting documents shall be quickly and easily generated, with proper error report, and be beautiful and user-friendly (e.g. with well-configured LaTeX, with appropriate CSS, icons and features like banners, with proper rendering of equations).</p>
<p>Per-format overriding shall be possible (e.g. to define different image sizes depending on web output or PDF one).</p>
<p>The whole documentation process shall be powered only by free software solutions, easily automated (e.g. <a class="reference external" href="Build.html">with Make</a>) and suitable for version control (e.g. <a class="reference external" href="Git.html">with Git</a>).</p>
<p>For that we rely on two possible approaches, a lighter one and a more involved one, depending on the project at hand.</p>
</div>
<div class="section" id="our-preferred-lightweight-approach">
<span id="lightweight-approach"></span><h1><a class="toc-backref" href="#toc-entry-2">Our Preferred Lightweight Approach</a></h1>
<div class="section" id="principle">
<h2><a class="toc-backref" href="#toc-entry-3">Principle</a></h2>
<p>We found this approach convenient for lighter projects, i.e. ones comprising a limited number of pages. This is the case of this page and more generally of the whole Ceylan-HOWTO website.</p>
<p>We chose to rely on the <a class="reference external" href="https://en.wikipedia.org/wiki/ReStructuredText">reStructuredText</a> syntax and tools, also known as RST, a part of the <a class="reference external" href="https://docutils.sourceforge.io/">Docutils</a> project. Here we do not specifically rely on elements related to Python or the Sphinx toolchain, as our more <a class="reference internal" href="#heavy-duty-approach">heavy-duty approach</a> does.</p>
<p>We augmented reStructuredText with:</p>
<ul class="simple">
<li>a set of <strong>make-based defines and rules</strong> (automatic or explicit) that were aggregated in Ceylan-Myriad (see notably <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/GNUmakerules-docutils.inc">GNUmakerules-docutils.inc</a> and the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/src/scripts/generate-docutils.sh">generate-docutils.sh</a> generation script); this mechanism is layer-friendly, in the sense that all layers defined (directly or not) on top of Myriad are able by default to re-use these elements and to customise them if needed</li>
<li>a <strong>template</strong> on which we rely for most documents, featuring notably a standard table (to specify usual metadata such as organisation, contact information, abstract, versions, etc.), a table of contents, conventions in terms of <a class="reference internal" href="#title-hierarchy">title hierarchy</a> and, for the HTML output, a banner (a fixed, non-scrolling panel offering shortcuts, in the top-right corner of the page)</li>
<li>a simple <strong>tag-based system</strong> to have the actual document markup (<tt class="docutils literal">*.rst</tt>) directly generated from a higher-level source one (<tt class="docutils literal">*.rst.template</tt>); in practice, if defined, only the latter element is edited by the user, and tags (such as <tt class="docutils literal">*_VERSION_TAG</tt>, <tt class="docutils literal">*_DATE_TAG</tt>, etc.) are automatically filled-in appropriately</li>
</ul>
<p>Of course this website, and many others that we created, rely on this approach; as an example, one may look at the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/blob/master/doc/DocGeneration.rst.template">sources of the current document</a>.</p>
</div>
<div class="section" id="specific-topics">
<h2><a class="toc-backref" href="#toc-entry-4">Specific Topics</a></h2>
<div class="section" id="rendering-mathematical-elements">
<span id="how-to-render-equations"></span><h3><a class="toc-backref" href="#toc-entry-5">Rendering Mathematical Elements</a></h3>
<p>With the RST toolchain, the PDF output, thanks to LaTeX, offers built-in high-quality rendering of mathematical elements such as equations, matrices, etc.</p>
<p>By default, the HTML output does not benefit from LaTeX, and remains significantly less pleasing to the eye, and less readable.</p>
<p>So we complement it by <a class="reference external" href="https://www.mathjax.org/">MathJax</a>, a neat open-source &quot;<em>JavaScript display engine for mathematics that works in all browsers</em>&quot;.</p>
<p>It shall thus be installed once for all first.</p>
<div class="section" id="basic-less-than-satisfactory-installation-approach">
<h4>Basic, Less-than-Satisfactory, Installation Approach</h4>
<p>For example, on Arch Linux, as <tt class="docutils literal">root</tt>, it is sufficient to execute:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>pacman<span class="w"> </span>-Sy<span class="w"> </span>mathjax
</pre>
<p>If not having root permissions, it can be installed directly in one's user account, for example:</p>
<pre class="code bash literal-block">
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/tmp<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/mathjax/MathJax.git<span class="w">
</span>$<span class="w"> </span>mv<span class="w"> </span>MathJax/es5<span class="w"> </span>~/Software/MathJax
</pre>
<p>Then, to enable the use of MathJax for a given website based on Ceylan-Myriad, run from its root (often a <tt class="docutils literal">doc</tt> directory):</p>
<pre class="code bash literal-block">
$<span class="w"> </span>make<span class="w"> </span>create-mathjax-symlink
</pre>
<p>(this target is defined in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/GNUmakerules-docutils.inc">GNUmakerules-docutils.inc</a>; it boils down to symlinking <tt class="docutils literal">/usr/share/mathjax</tt>; see also the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/blob/master/doc/GNUmakefile">HOWTOs corresponding makefile</a> to properly manage this dependency afterwards, notably when deploying web content)</p>
<p>Yet, depending on settings and conventions, updating MathJax in a web root may lead to permission errors; in that case the next approach shall be favored.</p>
</div>
<div class="section" id="better-webroot-compliant-installation-approach">
<h4>Better, Webroot-compliant Installation Approach</h4>
<p>Just install MathJax directly in your user account (e.g. in <tt class="docutils literal">~/Software/mathjax</tt>), follow the guidelines in the <a class="reference internal" href="#fixing-permissions-in-third-party-content-to-integrate-in-a-web-root">Fixing Permissions in Third-Party Content to Integrate in a Web Root</a> section, and add symlinks to the result in all documentation trees requiring MathJax.</p>
<p>For that, rather than installing MathJax by oneself (as we found its website rather unclear about how to install it when not in a Node.JS context) or possibly taking inspiration from <a class="reference external" href="https://github.com/archlinux/svntogit-community/blob/packages/mathjax/trunk/PKGBUILD">this PKGBUILD</a>, the simplest way is to install it from one's package manager (e.g.
<tt class="docutils literal">pacman <span class="pre">-Sy</span> mathjax</tt>) and to copy the result in one's account: <tt class="docutils literal">cp <span class="pre">-r</span> /usr/share/mathjax ~/Software/</tt>, before fixing permissions there. This local copy shall just be regularly updated.</p>
<div class="section" id="usage">
<h5>Usage</h5>
<p>The list of <a class="reference external" href="http://docs.mathjax.org/en/latest/input/tex/macros/index.html">TeX/LaTeX commands</a> supported by MathJax may be of use.</p>
<p>Each LaTeX command may either be specified directly inline, in the text (with <tt class="docutils literal"><span class="pre">:math:`LATEX_CMD`</span></tt>) or in a block indented after a <tt class="docutils literal">.. math::</tt> directive.</p>
<p>This allows to define inline mathematical elements, like <span class="math">\(P = \begin{pmatrix} 10 \\ 45\end{pmatrix}\)</span> (obtained with <tt class="docutils literal">P = \\begin{pmatrix} 10 <span class="pre">\\\\</span> <span class="pre">45\\end{pmatrix}</span></tt>) or standalone ones, like:</p>
<div class="math">
\begin{equation*}
M = \begin{bmatrix}
       a11 &amp; a12 &amp; ... &amp; a1n \\
       a21 &amp; a22 &amp; ... &amp; a2n \\
       ... &amp; ... &amp; ... &amp; ... \\
       am1 &amp; am2 &amp; ... &amp; amn \\
    \end{bmatrix}
\end{equation*}
</div>
<p>obtained thanks to:</p>
<pre class="literal-block">
M = \begin{bmatrix}
       a11 &amp; a12 &amp; ... &amp; a1n \\
       a21 &amp; a22 &amp; ... &amp; a2n \\
       ... &amp; ... &amp; ... &amp; ... \\
       am1 &amp; am2 &amp; ... &amp; amn \\
    \end{bmatrix}
</pre>
<p>For <span class="math">\(\phi: \mathbb{R} \rightarrow ]0,1[\)</span> (i.e. <tt class="docutils literal">\phi: \mathbb{R} \rightarrow ]0,1[</tt>), we may have <span class="math">\(P_e = \phi(m+\phi^{-1}(P_n))\)</span> is <tt class="docutils literal">P_e = <span class="pre">\phi(m+\phi^{-1}(P_n))</span></tt>.</p>
<p>If <span class="math">\(\phi(x) = e^{x}/(1+e^{x})\)</span> (translating to <tt class="docutils literal">\phi(x) = <span class="pre">e^{x}/(1+e^{x})</span></tt>), then:</p>
<div class="math">
\begin{equation*}
P_e = \frac{P_n.e^{m}}{1 + P_n.(e^{m}-1)}
\end{equation*}
</div>
<p>(translating to <tt class="docutils literal">P_e = <span class="pre">\frac{P_n.e^{m}}{1</span> + <span class="pre">P_n.(e^{m}-1)}</span></tt>)</p>
<p>A few other examples of resulting math-related outputs can be seen in <a class="reference external" href="https://myriad.esperide.org/#linear-conventions">this section</a>.</p>
<p>See the next section for a proper use of MathJax in webservers.</p>
</div>
</div>
</div>
<div class="section" id="title-hierarchy">
<h3><a class="toc-backref" href="#toc-entry-6">Title Hierarchy</a></h3>
<p>It must be consistent: a given type of subtitle must always be placed at the same level in the title hierarchy.</p>
<p>We rely on the markup conventions exposed in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/demo-for-css-testing.rst">this demonstration</a> file (created by David Goodger), whose <a class="reference external" href="https://raw.githubusercontent.com/Olivier-Boudeville/Ceylan-Myriad/master/doc/demo-for-css-testing.rst">source is here</a>.</p>
<p>From the top-level title to the most nested ones:</p>
<ul class="simple">
<li><tt class="docutils literal">=</tt>, on top and below the title (document title)</li>
<li><tt class="docutils literal">-</tt>, on top and below the title (document subtitle)</li>
<li><tt class="docutils literal">=</tt>, below the title (H1)</li>
<li><tt class="docutils literal">-</tt>, below the title (H2)</li>
<li><tt class="docutils literal">.</tt> , below the title (H3)</li>
<li><tt class="docutils literal">_</tt>, below the title (H4)</li>
<li><tt class="docutils literal">*</tt>, below the title (H5)</li>
<li><tt class="docutils literal">:</tt>, below the title (H6)</li>
<li><tt class="docutils literal">+</tt>, below the title (H7)</li>
</ul>
</div>
<div class="section" id="image-sizes">
<h3><a class="toc-backref" href="#toc-entry-7">Image Sizes</a></h3>
<p>Responsive images, i.e. images that automatically adjust to fit the size of the screen, can be used. They are then defined for example thanks to:</p>
<pre class="code html literal-block">
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;foobar.png&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;responsive-image-large&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">img</span><span class="p">&gt;</span>
</pre>
<p>Various standard sizes have been defined, all prefixed with <tt class="docutils literal"><span class="pre">responsive-image-</span></tt>; from the biggest (95%) to the smallest (10%), as defined for example in <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/myriad.css">myriad.css</a>, they are: <tt class="docutils literal">full</tt>, <tt class="docutils literal">large</tt>, <tt class="docutils literal">intermediate</tt>, <tt class="docutils literal">medium</tt>, <tt class="docutils literal">reduced</tt>, <tt class="docutils literal">small</tt>, <tt class="docutils literal">tiny</tt>, <tt class="docutils literal">xsmall</tt>.</p>
</div>
<div class="section" id="multi-file-documents">
<h3><a class="toc-backref" href="#toc-entry-8">Multi-File Documents</a></h3>
<div class="section" id="targeting-a-standalone-document">
<h4>Targeting a Standalone Document</h4>
<p>Although they tend to be less convenient to edit, longer documents may be split in a <strong>set of RST source files</strong> (the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/tree/master/doc">Myriad documentation</a> is an example of it; the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-WOOPER/tree/master/doc">WOOPER documentation</a> is an example of the opposite approach, based on a single source file).</p>
</div>
<div class="section" id="targeting-interlinked-modular-documents">
<h4>Targeting Interlinked Modular Documents</h4>
<p>In some cases, at least for the HTML output, the need is not to produce a single, large, monolithic document, but a set of interlinked ones (<a class="reference external" href="http://howtos.esperide.org">the present HOWTO</a> is an example thereof) that can be browsed as separate pages.</p>
<p>Then a convenient approach is to define different entry points for different output formats, like, for these HOWTOs, <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/blob/master/doc/Ceylan-HOWTOs-overview-english.rst.template">this one for the HTML output</a> and <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/blob/master/doc/Ceylan-HOWTOs-english.rst.template">this one for the PDF output</a>.</p>
</div>
</div>
<div class="section" id="inner-links">
<h3><a class="toc-backref" href="#toc-entry-9">Inner Links</a></h3>
<p>Defining any title (e.g. the <tt class="docutils literal">&quot;Rendering Mathematical Elements&quot;</tt> one above) automatically introduces in turn a corresponding anchor, which, for the HTML output, can then be referenced from any page, for example as raw HTML (like <a class="reference external" href="DocGeneration.html#rendering-mathematical-elements">MyPage.html#rendering-mathematical-elements</a>, or directly from the current page as <a class="reference external" href="#rendering-mathematical-elements">#rendering-mathematical-elements</a>) or directly through RST in the document (e.g. specified as <tt class="docutils literal">`Rendering Mathematical Elements`_</tt>, resulting in: <a class="reference internal" href="#rendering-mathematical-elements">Rendering Mathematical Elements</a>).</p>
<p>Note the light transformation (spaces becoming dashes) of the specified name once a it is translated into a legit HTML anchor.</p>
<p>Extra local anchors (e.g. that could be named <tt class="docutils literal">&quot;how to render equations&quot;</tt>) can also be specified anywhere in the document (e.g. just before the previously mentioned title, so that it can be designated with other words), thanks to:</p>
<pre class="literal-block">
.. _`how to render equations`:
</pre>
<p>It can then be referenced from the same page as <a class="reference external" href="#how-to-render-equations">#how-to-render-equations</a> or from another one as <a class="reference external" href="DocGeneration.html#how-to-render-equations">MyPage.html#how-to-render-equations</a>.</p>
<p>Note that titles and hypertext links introduce local links as well, so one's inner links may clash with them (resulting in <tt class="docutils literal">(ERROR/3) Duplicate target name <span class="pre">[...]</span></tt>); the best option is generally to phrase these inner links differently.</p>
</div>
<div class="section" id="commenting">
<h3><a class="toc-backref" href="#toc-entry-10">Commenting</a></h3>
<p>To comment-out a block of text, just add <tt class="docutils literal">..</tt> at the beginning of a line, then, from the next line, put that block, indented of at least one space; this must be a legit block (see <a class="reference internal" href="#defining-blocks">Defining Blocks</a>).</p>
</div>
<div class="section" id="defining-blocks">
<h3><a class="toc-backref" href="#toc-entry-11">Defining Blocks</a></h3>
<p>All lines of a block shall start with the same whitespace. So, whenever a given block is not left-justified (at least one of its lines starts with a different offset), prefer having all lines of such a block be indented of (at least) 4 spaces (i.e. a tabulation).</p>
<p>Otherwise, if using a single space to indent, as soon as a line of the block is to start with 3 spaces, whitespace-cleanup operations will combine them with the first one to form a tabulation (4 spaces in a row), and all lines of the commented block will not start with the same whitespaces, which could result, from the point of view of RST tools, in an invalid block.</p>
<p>Before a code block (e.g. introduced with <tt class="docutils literal">.. code:: erlang</tt>), a single colon should be used, not two of them. For example:</p>
<pre class="code literal-block">
This algorithm can be:

.. code:: erlang
   [...]
</pre>
</div>
</div>
</div>
<div class="section" id="our-preferred-more-heavy-duty-approach">
<span id="heavy-duty-approach"></span><h1><a class="toc-backref" href="#toc-entry-12">Our Preferred More Heavy-Duty Approach</a></h1>
<div class="section" id="principle-1">
<h2><a class="toc-backref" href="#toc-entry-13">Principle</a></h2>
<p>It applies to more ambitious projects, involving larger content with potentially many interlinked pages.</p>
<p>It is based on the <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx toolchain</a>, and therefore shares many elements with our <a class="reference internal" href="#lightweight-approach">lightweight approach</a> above, starting from the RST syntax.</p>
<p>It offers out of the box many useful mechanisms beyond the generation of a single-page website, from a smooth navigation between a set of pages based on foldable menus to a generated index and a local search engine. It moreover can be easily customised.</p>
<p>More types of outputs are readily supported: HTML, PDF, EPUB, man pages.</p>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#toc-entry-14">Installation</a></h2>
<p>One may follow <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/installation.html">these guidelines</a>. On Arch Linux, we install the <a class="reference external" href="https://archlinux.org/packages/community/any/python-sphinx/">python-sphinx</a> package, thanks to: <tt class="docutils literal">pacman <span class="pre">-Sy</span> <span class="pre">python-sphinx</span></tt>.</p>
</div>
<div class="section" id="configuration">
<h2><a class="toc-backref" href="#toc-entry-15">Configuration</a></h2>
<p>Running <tt class="docutils literal"><span class="pre">sphinx-quickstart</span></tt> is one's best route; in terms of choices:</p>
<ul class="simple">
<li>we strongly recommend separating the source and build directories</li>
<li>the &quot;Project name&quot; shall not include &quot;documentation&quot;, as this word will be added automatically wherever needed</li>
</ul>
<p>Then <tt class="docutils literal">make html</tt> should generate a base website (including makefiles) that can be browsed in the <tt class="docutils literal">build/html</tt> directory (use <tt class="docutils literal">make clean</tt> to force its erasure; run just <tt class="docutils literal">make</tt> to list all targets of interest, including the <tt class="docutils literal">linkcheck</tt> one, to check all external links for integrity).</p>
<p>The project settings can be edited in <tt class="docutils literal">source/conf.py</tt>.</p>
</div>
<div class="section" id="theme-selection">
<h2><a class="toc-backref" href="#toc-entry-16">Theme Selection</a></h2>
<p>The default (HTML) theme is the Alabaster one. Other themes may be preferred, whether they are <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/theming.html">Sphinx built-ins</a> or <a class="reference external" href="https://sphinx-themes.org/">external ones</a>. Many can be customised.</p>
<p>As for us, we prefer mobile-compliant themes with a left column to navigate. This includes the popular <a class="reference external" href="https://sphinx-themes.org/sample-sites/sphinx-rtd-theme/">Read the Docs</a> theme, which will use here, but also the <a class="reference external" href="https://sphinx-themes.org/sample-sites/default-classic/">classic</a> theme.</p>
<p>The <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/en/latest/">documentation</a> of the Read the Docs theme details everything needed. For an installation thereof on Arch, the simplest is to run <tt class="docutils literal">pacman <span class="pre">-Sy</span> <span class="pre">python-sphinx_rtd_theme</span></tt>.</p>
<p>Then it is just a matter of editing <tt class="docutils literal">source/conf.py</tt> so that <tt class="docutils literal">'sphinx_rtd_theme'</tt> is listed in the <tt class="docutils literal">extensions</tt> list, and that the <tt class="docutils literal">html_theme</tt> is now set to <tt class="docutils literal">'sphinx_rtd_theme'</tt>.</p>
<p>Running <tt class="docutils literal">make html</tt> again should be sufficient to take this new theme into account. The generated result is quite satisfying.</p>
<p>Here is one <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/en/latest/configuring.html">customisation thereof</a> (theme options) that we like:</p>
<pre class="code python literal-block">
<span class="c1">#html_theme = 'alabaster'</span><span class="w">
</span><span class="n">html_theme</span> <span class="o">=</span> <span class="s1">'sphinx_rtd_theme'</span><span class="w">

</span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span><span class="w">
</span>   <span class="c1">#'analytics_id': 'G-XXXXXXXXXX',  #  Provided by Google in your dashboard</span><span class="w">
</span>   <span class="c1">#'analytics_anonymize_ip': True,</span><span class="w">
</span>   <span class="s1">'logo_only'</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'display_version'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'prev_next_buttons_location'</span><span class="p">:</span> <span class="s1">'both'</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'style_external_links'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'vcs_pageview_mode'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span><span class="w">
</span>   <span class="c1">#'style_nav_header_background': 'white',</span><span class="w">
</span>   <span class="c1">#'style_nav_header_background': '#2980B9',</span><span class="w">
</span>   <span class="s1">'style_nav_header_background'</span><span class="p">:</span> <span class="s1">'black'</span><span class="p">,</span><span class="w">
</span>   <span class="c1"># Toc options</span><span class="w">
</span>   <span class="s1">'collapse_navigation'</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'sticky_navigation'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'navigation_depth'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'includehidden'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span><span class="w">
</span>   <span class="s1">'titles_only'</span><span class="p">:</span> <span class="kc">False</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">html_logo</span> <span class="o">=</span> <span class="s1">'../foobar-title.png'</span><span class="w">
</span><span class="n">html_favicon</span> <span class="o">=</span>  <span class="s1">'../foobar-icon.png'</span><span class="w">
</span><span class="n">html_last_updated_fmt</span> <span class="o">=</span> <span class="s1">''</span><span class="w">
</span><span class="n">html_copy_source</span> <span class="o">=</span> <span class="kc">False</span><span class="w">
</span><span class="n">html_show_sourcelink</span> <span class="o">=</span> <span class="kc">False</span><span class="w">
</span><span class="n">html_show_sphinx</span> <span class="o">=</span> <span class="kc">False</span><span class="w">

</span><span class="n">html_static_path</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'_static'</span><span class="p">]</span>
</pre>
</div>
<div class="section" id="adding-content">
<h2><a class="toc-backref" href="#toc-entry-17">Adding Content</a></h2>
<p>This is just a matter of adding <tt class="docutils literal">*.rst</tt> files (each defining at least one title) in the <tt class="docutils literal">source</tt> directory, and to reference them in a least one table of contents (e.g. in <tt class="docutils literal">source/index.rst</tt>), like in:</p>
<pre class="literal-block">
.. toctree::
  :maxdepth: 2
  :caption: Contents:

  ./foobar.rst
  ./buz.rst
</pre>
<p>The result in a static website that can safely be transferred and served by any webserver of choice.</p>
</div>
</div>
<div class="section" id="miscellaneous">
<h1><a class="toc-backref" href="#toc-entry-18">Miscellaneous</a></h1>
<p>These hints apply more generically than only with a RST toolchain.</p>
<div class="section" id="validating-checking-html-content">
<h2><a class="toc-backref" href="#toc-entry-19">Validating / Checking HTML Content</a></h2>
<p>In addition to the verification of the messages reported when the document is built, some tools allow to perform some checks on a generated document.</p>
<p>Notably an online HTML page, or set of pages, can be verified by third-party tools like <a class="reference external" href="https://www.deadlinkchecker.com/">this one</a>, to detect dead links.</p>
</div>
<div class="section" id="fixing-permissions-in-third-party-content-to-integrate-in-a-web-root">
<h2><a class="toc-backref" href="#toc-entry-20">Fixing Permissions in Third-Party Content to Integrate in a Web Root</a></h2>
<p>The objective is to ensure that a filesystem tree can be transferred as a whole without permission errors to a given server more than once, whereas the destination user and group (typically specialised and restricted on a server) differ from the source ones.</p>
<p>It is indeed often necessary to fix permissions in a third-party tree before it is transferred to a server (e.g. MathJax being copied from a client host through <tt class="docutils literal">scp</tt> in a web root on a given server); otherwise the next transfers will stumble on the initial, inadequate group rights, typically preventing them to be overwritten by a process belonging to a different user yet being in the same group, like <tt class="docutils literal">700</tt> instead of <tt class="docutils literal">770</tt> - resulting in <tt class="docutils literal">Permission denied</tt> errors.</p>
<p>For that we recommend executing our <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Hull/blob/master/fix-www-metadata.sh">fix-www-metadata.sh</a> script in the <em>source</em> root prior to transfer it to a webroot of choice. This typically applies to MathJax (see the <a class="reference internal" href="#rendering-mathematical-elements">Rendering Mathematical Elements</a> section), which therefore should not be installed in the system tree thanks to a package manager (as our script will alter its permissions) but in the user account (e.g. as <tt class="docutils literal">~/Software/mathjax</tt>).</p>
<p>So typically this script shall be symlinked in each third-party root of interest, and be executed there at each update thereof.</p>
<p>However doing so does not solve all issues: the file entries created/updated by <tt class="docutils literal">scp</tt> on the server will be owned by the user on the server implied by the <tt class="docutils literal">scp</tt> command, for example <tt class="docutils literal">stallone:users</tt> - not the desired <tt class="docutils literal"><span class="pre">web-srv-user:web-srv-group</span></tt>. Of course the <tt class="docutils literal"><span class="pre">fix-www-metadata.sh</span></tt> script can be run (by root) on the server to correct that. Yet the next update of this webroot will fail again with <tt class="docutils literal">Permission denied</tt> errors, as the groups are not expected to match anymore (we cannot overwrite with our client-side <tt class="docutils literal">users</tt> group a remote directory whose permission is <tt class="docutils literal">770</tt> that is owned by group <tt class="docutils literal"><span class="pre">web-srv-group</span></tt>).</p>
<p>A solution is to ensure that the source content bears already the target group. As <tt class="docutils literal">scp</tt> relies on user/group IDs, not on names (e.g. on a numerical GID like <tt class="docutils literal">1001</tt>, not a name like <tt class="docutils literal">users</tt> or <tt class="docutils literal"><span class="pre">web-srv-group</span></tt>), the simplest solution is to determine the actual GID of the target group on the server (e.g. running, as root, <tt class="docutils literal">grep <span class="pre">web-srv-group</span> /etc/group</tt> may tell us that the GID of <tt class="docutils literal"><span class="pre">web-srv-group</span></tt> is <tt class="docutils literal">1002</tt> there) and to create <em>on the client</em> a group with the same GID (if ever possible - that is if there is not already another group happening to have be set to that GID) and to apply it to the source content to transfer, like in:</p>
<pre class="code bash literal-block">
<span class="c1"># We are on the &quot;client&quot;, source host, as root:
# (web-srv-group-of-target-server clearer than web-srv-group)
</span>$<span class="w"> </span>groupadd<span class="w"> </span>--gid<span class="w"> </span><span class="m">1002</span><span class="w"> </span>web-srv-group-of-target-server<span class="w">
</span>$<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>web-srv-group-of-target-server<span class="w"> </span>stallone<span class="w">
</span>$<span class="w"> </span>chgrp<span class="w"> </span>-R<span class="w"> </span>web-srv-group-of-target-server<span class="w"> </span>/home/stallone/mathjax
</pre>
<p>Then, afterwards, when the <tt class="docutils literal">stallone</tt> user performs his <tt class="docutils literal">scp</tt> repeatedly to transfer updated versions of his <tt class="docutils literal">mathjax</tt> directory from the client to the server, he should be able to perform a flawless update of its files and directories.</p>
</div>
<div class="section" id="pointing-to-a-specific-moment-in-a-linked-video">
<h2><a class="toc-backref" href="#toc-entry-21">Pointing to a Specific Moment in a Linked Video</a></h2>
<p>It is as simple as designating, in an HTML link, the targeted second by suffixing the URL video filename with <tt class="docutils literal">#t=DURATION_IN_SECONDS</tt>, like in <tt class="docutils literal"><span class="pre">some-video.mp4#t=1473</span></tt> <a class="footnote-reference" href="#footnote-1" id="footnote-reference-1">[1]</a>.</p>
<table class="docutils footnote" frame="void" id="footnote-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-1">[1]</a></td><td>With <tt class="docutils literal">mplayer</tt>, use the <tt class="docutils literal">o</tt> hotkey to display elapsed durations.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="conversion-between-markup-formats">
<h2><a class="toc-backref" href="#toc-entry-22">Conversion between Markup Formats</a></h2>
<p><a class="reference external" href="https://pandoc.org/">Pandoc</a> is the tool of choice for such operations, as it often yields good results.</p>
<p>For example, in order to convert a page written in Mediawiki syntax, whose source content has been pasted in a <tt class="docutils literal"><span class="pre">old-content-in-mediawiki.txt</span></tt> file, into one that be specified in a GitLab wiki (hence in GFM markup, for <em>GitLab Flavored Markdown</em>) from a converted content, to be written in a <tt class="docutils literal"><span class="pre">converted-content.gfm</span></tt> file, one may use:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>pandoc<span class="w"> </span>old-content-in-mediawiki.txt<span class="w"> </span>--from<span class="o">=</span>mediawiki<span class="w"> </span>--to<span class="o">=</span>gfm<span class="w"> </span>--standalone<span class="w"> </span>-o<span class="w"> </span>converted-content.gfm<span class="w">

</span><span class="c1"># Or, for older versions of pandoc not supporting a gfm writer:
</span>$<span class="w"> </span>pandoc<span class="w"> </span>old-content-in-mediawiki.txt<span class="w"> </span>--from<span class="o">=</span>mediawiki<span class="w"> </span>--to<span class="o">=</span>markdown_github<span class="w"> </span>--standalone<span class="w"> </span>-o<span class="w"> </span>converted-content.gfm
</pre>
<p>Then the content in <tt class="docutils literal"><span class="pre">converted-content.gfm</span></tt> file can be pasted in the target GitLab wiki page.</p>
<p>Another example is the conversion of a GitLab wiki page into a RST document (e.g. then for a PDF generation):</p>
<pre class="code bash literal-block">
$<span class="w"> </span>pandoc<span class="w"> </span>my-gitlab-wiki-extract.gfm<span class="w"> </span>--from<span class="o">=</span>gfm<span class="w"> </span>--to<span class="o">=</span>rst<span class="w"> </span>--standalone<span class="w"> </span>-o<span class="w"> </span>my-converted-content.rst<span class="w">

</span><span class="c1"># Or, for older versions of pandoc not supporting a gfm reader:
</span>$<span class="w"> </span>pandoc<span class="w"> </span>my-gitlab-wiki-extract.gfm<span class="w"> </span>--from<span class="o">=</span>markdown_github<span class="w"> </span>--to<span class="o">=</span>rst<span class="w"> </span>--standalone<span class="w"> </span>-o<span class="w"> </span>my-converted-content.rst
</pre>
<p>Finally, if really needing to generate a Word document, an example may be:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>pandoc<span class="w"> </span>my-document.rst<span class="w"> </span>--from<span class="o">=</span>rst<span class="w"> </span>--to<span class="o">=</span>docx<span class="w"> </span>-o<span class="w"> </span>my-converted-document.docx
</pre>
<p>The lists of the input and output formats supported by Pandoc and of their corresponding command-line options is specified <a class="reference external" href="https://pandoc.org/MANUAL.html#general-options">here</a>.</p>
<p>These options are also returned by: <tt class="docutils literal">pandoc <span class="pre">--list-input-formats</span></tt> and <tt class="docutils literal">pandoc <span class="pre">--list-output-formats</span></tt> (or, for older versions of pandoc, thanks to <tt class="docutils literal">pandoc <span class="pre">--help</span></tt>).</p>
<p>An input file may not be encoded in UTF-8, which can result in:</p>
<pre class="literal-block">
pandoc: Cannot decode byte '\xe9': Data.Text.Internal.Encoding.Fusion.streamUtf8: Invalid UTF-8 stream
</pre>
<p>In this case, the actual encoding shall be determined, for example with:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>file<span class="w"> </span>input.html<span class="w">
</span>input.html:<span class="w"> </span>HTML<span class="w"> </span>document,<span class="w"> </span>ISO-8859<span class="w"> </span>text
</pre>
<p>Then the encoding may be changed before calling pandoc, for example like:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>iconv<span class="w"> </span>-f<span class="w"> </span>ISO-8859-1<span class="w"> </span>-t<span class="w"> </span>utf-8<span class="w"> </span>input.html<span class="w"> </span><span class="p">|</span><span class="w"> </span>pandoc<span class="w"> </span>--from<span class="o">=</span>html<span class="w"> </span>--to<span class="o">=</span>markdown_github<span class="w"> </span>--standalone<span class="w"> </span>-o<span class="w"> </span>output.gfm
</pre>
</div>
<div class="section" id="transformation-of-pdf-files">
<h2><a class="toc-backref" href="#toc-entry-23">Transformation of PDF files</a></h2>
<p>For that, one may use the <tt class="docutils literal">pdftk</tt> tool, possibly with the <tt class="docutils literal">convert</tt> one, which comes from <a class="reference external" href="http://www.imagemagick.org/">ImageMagick</a> (typically available thanks to a <tt class="docutils literal">imagemagick</tt> package):</p>
<ul class="simple">
<li>to <strong>split all pages of a PDF</strong> in as many individual files (named <tt class="docutils literal">pg_0001.pdf</tt>, <tt class="docutils literal">pg_0002.pdf</tt>, etc.): <tt class="docutils literal">pdftk document.pdf burst</tt></li>
<li>to <strong>extract a range of pages from a PDF</strong>: <tt class="docutils literal">pdftk <span class="pre">original-document.pdf</span> cat <span class="pre">276-313</span> output <span class="pre">my-extract.pdf</span></tt></li>
<li>to <strong>convert a PDF file</strong> (typically a single page) into a <strong>PNG</strong> one (typically in order to edit the PNG with The Gimp afterwards): <tt class="docutils literal">convert pg_000x.pdf pg_000x.png</tt></li>
<li>to convert (possibly back) a <strong>PNG file to a PDF</strong> one: <tt class="docutils literal">convert <span class="pre">pg_000x-modified.png</span> <span class="pre">pg_000x-modified.pdf</span></tt></li>
<li>to <strong>concatenate PDFs</strong>: <tt class="docutils literal">pdftk 1.pdf 2.pdf 3.pdf cat output 123.pdf</tt></li>
</ul>
<p>PDF documents may contain images/scans (possibly of texts) and/or actual, raw texts. If a PDF is a scan, OCR (<a class="reference external" href="https://en.wikipedia.org/wiki/Optical_character_recognition">Optical character recognition</a>) can be used in order to convert the embedded scans into their actual text. Such a transformation can be done online, and we found <a class="reference external" href="https://tools.pdf24.org/fr/ocr-pdf">PDF24</a> very useful for that. From such services, usually a PDF (thus including text instead of images) is generated. To obtain a text version thereof respecting its layout (typically to preserve the indentation of a scanned program), one may use: <tt class="docutils literal">pdftotext <span class="pre">-layout</span> <span class="pre">my-OCRed-document.pdf</span></tt> in order to enjoy a proper <tt class="docutils literal"><span class="pre">my-OCRed-document.txt</span></tt>.</p>
</div>
<div class="section" id="image-transformations">
<h2><a class="toc-backref" href="#toc-entry-24">Image Transformations</a></h2>
<p>One may rely on:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.gimp.org/">GIMP</a> (<em>GNU Image Manipulation Program</em>; corresponding, on Arch, to the <tt class="docutils literal">gimp</tt> package)</li>
<li>or on command-line <a class="reference external" href="https://imagemagick.org">ImageMagick</a> (on Arch, the <tt class="docutils literal">imagemagick</tt> package, which provides notably the <tt class="docutils literal">convert</tt> and <tt class="docutils literal">display</tt> executables)</li>
</ul>
<p>To invert/negate an image (swap colors with their complementary ones, while preserving alpha coordinates):</p>
<pre class="code bash literal-block">
$<span class="w"> </span>convert<span class="w"> </span>source.png<span class="w"> </span>-channel<span class="w"> </span>RGB<span class="w"> </span>-negate<span class="w"> </span>target.png
</pre>
<p>See also the Myriad's automatic rules, which generate <tt class="docutils literal"><span class="pre">X-negated.png</span></tt> from <tt class="docutils literal">X.png</tt> thanks to: <tt class="docutils literal">make <span class="pre">X-negated.png</span></tt>.</p>
</div>
<div class="section" id="uml-diagrams">
<h2><a class="toc-backref" href="#toc-entry-25">UML Diagrams</a></h2>
<p>If <a class="reference external" href="https://en.wikipedia.org/wiki/Systems_Modeling_Language">SysML</a> can also be of interest, we focus here on <a class="reference external" href="https://en.wikipedia.org/wiki/Class_diagram">UML2 class diagrams</a> (one of the 14 types of diagrams provided by UML2).</p>
<div class="section" id="quick-uml-cheat-sheet">
<h3><a class="toc-backref" href="#toc-entry-26">Quick UML Cheat Sheet</a></h3>
<div class="section" id="multiplicities">
<h4>Multiplicities</h4>
<p>A <strong>multiplicity</strong> is a definition of <em>cardinality</em> (i.e. number of elements) of some collection of elements.</p>
<p>It can be set for attributes, operations, and associations in a class diagram, and for associations in a use case diagram. The multiplicity is an indication of how many objects may participate in the given relationship.</p>
<p>It is defined as an inclusive interval based on non-negative integers, with <tt class="docutils literal">*</tt> denoting an unlimited upper bound (not, for example, <tt class="docutils literal">n</tt>).</p>
<p>Most common multiplies are:</p>
<ul class="simple">
<li>no instance or one instance: <tt class="docutils literal"><span class="pre">0..1</span></tt></li>
<li>any number of instances, including zero: <tt class="docutils literal">*</tt> (shorthand for <tt class="docutils literal"><span class="pre">0..*</span></tt>)</li>
<li>exactly k instances: <tt class="docutils literal">k</tt> (so, if k=5, <tt class="docutils literal">5</tt>)</li>
<li>at least M instances: <tt class="docutils literal"><span class="pre">M..*</span></tt> (<tt class="docutils literal"><span class="pre">2..*</span></tt>)</li>
<li>at least M instances, but no more than N (hence bounds included): <tt class="docutils literal"><span class="pre">M..N</span></tt> (e.g. <tt class="docutils literal"><span class="pre">3..5</span></tt>)</li>
</ul>
<p>For associations, the default multiplicity is automatically is <tt class="docutils literal"><span class="pre">0..1</span></tt>, while new attributes and operations have a default multiplicity of <tt class="docutils literal">1</tt>.</p>
</div>
<div class="section" id="association">
<h4>Association</h4>
<p>An <strong>association</strong> is a relation between two classes (<em>binary association</em>) or more (<em>N-ary association</em>) that describes structural relationships between their instances.</p>
<p>For example a polygon may be defined from at least 3 vertices that it would reference, whereas a point may take part to any number of polygones (including none):</p>
<p><span class="raw-html"><center><img src="uml_association_diagram.png" id="responsive-image-small"></img></center></span>
</p>
<p>(see the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/tree/master/doc/uml_association_diagram.graph">sources</a> of this diagram)</p>
<p>The <strong>multiplicity</strong> of an endpoint denotes the number of instances of the corresponding class that may take part to this association. For example, at least 3 points are needed to form a polygon, whereas any number of polygons can include a given point.</p>
<p>In UML the <strong>direction</strong> of the association is easily ambiguous (here we have to rely on external knwoledge to determine whether a polygon is composed of points, of if a point is composed of polygons). Adding a chevron (like <tt class="docutils literal">&gt;</tt> or <tt class="docutils literal">&lt;</tt>, e.g. <tt class="docutils literal">&quot;references &gt;&quot;</tt> ; ideally this should be a small solid triangle) to the text is not a good solution either, as the layout may place the respective endpoints in any relative position. Adding an arrow to the end of the line segment cannot be done either, as it would denote the <em>navigability</em> of the association instead.</p>
</div>
<div class="section" id="aggregation">
<h4>Aggregation</h4>
<p>An <strong>aggregation</strong> is a specific association that denotes that an instance of a class (e.g. <tt class="docutils literal">Library</tt>) is to loosely contain instances of another class (e.g. <tt class="docutils literal">Book</tt>), in the sense that the lifecycle of the contained classes is not strongly dependent on the one of the container (e.g. books will still exist even if the library is dismantled).</p>
<p>Here a library may contain any number of books (possibly none), and a given book belongs to at most one library.</p>
<p><span class="raw-html"><center><img src="uml_aggregation_diagram.png" id="responsive-image-small"></img></center></span>
</p>
<p>(see the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/tree/master/doc/uml_aggregation_diagram.graph">sources</a> of this diagram)</p>
</div>
<div class="section" id="composition">
<h4>Composition</h4>
<p>A <strong>composition</strong> is a specific association that denotes that an instance of a class (e.g. <tt class="docutils literal">HumanBeing</tt>) is to own instances of another class (e.g. <tt class="docutils literal">Leg</tt>), in the sense that the lifecycle of the contained classes fully depends on the one of the container (here, if a human being dies, his/her legs will not exist anymore either).</p>
<p>Here a human being has exactly 2 legs, and any given leg belongs to exactly one human being (therefore this model does not account for one-legged persons).</p>
<p><span class="raw-html"><center><img src="uml_composition_diagram.png" id="responsive-image-small"></img></center></span>
</p>
<p>(see the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/tree/master/doc/uml_composition_diagram.png">sources</a> of this diagram)</p>
</div>
<div class="section" id="inheritance">
<h4>Inheritance</h4>
<p>An <strong>inheritance</strong> relationship is a specific association that denotes that a class (e.g. <tt class="docutils literal">HumanBeing</tt>) is a specific case of a more general one (e.g. <tt class="docutils literal">Animal</tt>), and thus that an instance of the first one is also an instance of the second one (&quot;is-a&quot; relationship).</p>
<p>Here a human being is a specific animal.</p>
<p><span class="raw-html"><center><img src="uml_inheritance_diagram.png" id="responsive-image-small"></img></center></span>
</p>
<p>(see the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/tree/master/doc/uml_inheritance_diagram.graph">sources</a> of this diagram)</p>
</div>
</div>
<div class="section" id="tooling">
<h3><a class="toc-backref" href="#toc-entry-27">Tooling</a></h3>
<p>In a design phase, one may prefer lightweight tools like <a class="reference external" href="https://graphviz.org/">Graphviz</a>, <a class="reference external" href="https://plantuml.com/">PlantUML</a> or even <a class="reference external" href="https://en.wikipedia.org/wiki/Dia_(software)">Dia</a>.</p>
<p>As long as the architecture of a framework is not stabilised, having one's tool determine by itself the layout of the rendering (rather than having to place manually one's graphical components) is surely preferable.</p>
<p>For that we use Graphviz, with <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/GNUmakerules-docutils.inc">our own build conventions</a>.</p>
<p>For example, supposing <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-Myriad/blob/master/doc/uml_class_diagram_example.graph">this diagram example</a>, i.e. a source file named <tt class="docutils literal">uml_class_diagram_example.graph</tt>:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>make<span class="w"> </span>uml_class_diagram_example.png<span class="w">
</span><span class="c1"># or, to force a regeneration and a displaying of the result:
</span>$<span class="w"> </span>make<span class="w"> </span>clean<span class="w"> </span>uml_class_diagram_example.png<span class="w"> </span><span class="nv">VIEW_GRAPH</span><span class="o">=</span><span class="nb">true</span>
</pre>
<p>This example results in the following diagram:</p>
<p><span class="raw-html"><center><img src="uml_class_diagram_example.png" id="responsive-image-small"></img></center></span>
</p>
<p>(see the <a class="reference external" href="https://github.com/Olivier-Boudeville/Ceylan-HOWTOs/tree/master/doc/uml_class_diagram_example.graph">sources</a> of this diagram)</p>
</div>
</div>
<div class="section" id="finding-usable-content">
<h2><a class="toc-backref" href="#toc-entry-28">Finding Usable Content</a></h2>
<p>Assets can be found thanks to <a class="reference external" href="https://search.creativecommons.org/">Creative Commons</a>, which references, among others, <a class="reference external" href="https://openclipart.org">OpenClipart</a>.</p>
</div>
<div class="section" id="using-additional-fonts">
<h2><a class="toc-backref" href="#toc-entry-29">Using Additional Fonts</a></h2>
<p>One may use websites like <a class="reference external" href="https://www.dafont.com">Dafont</a> in order to select, based on appearance and licence, a given TTF font.</p>
<p>At least on Arch, it is sufficient to copy the corresponding downloaded TTF file (as root) in <tt class="docutils literal">/usr/share/fonts/</tt> so that tools like The Gimp support it right afterwards (e.g. no need to run <tt class="docutils literal"><span class="pre">fc-cache</span></tt> beforehand).</p>
<p><span class="raw-html"><a name="howtos_bottom"></a></span></p>
</div>
</div>
</div>
</body>
</html>
